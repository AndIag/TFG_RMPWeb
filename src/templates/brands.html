<!-- Alerts -->
<div class="row alerts-container" data-ng-controller="AlertsCtrl" data-ng-show="alerts.length">
  <div class="col-xs-12">
    <uib-alert data-ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert>
  </div>
</div>
<!-- End- Alerts -->
<div class="row">
  <!-- Maing view -->
  <div class="col-lg-12" data-ng-show="!isLoading">
    <rd-widget>
      <rd-widget-header icon="fa-tasks" title="{{'views.index.brands' | translate}}">
        <dir-pagination-controls on-page-change="pageChanged(newPageNumber)" class="pull-right"></dir-pagination-controls>
      </rd-widget-header>
      <rd-widget-body class="no-padding" data-ng-init="init()">
        <div class="add-button" data-ng-show="!isCreateShowing">
          <button class="action-button shadow animate pull-left" ng-click="showCreateBrand()">
            {{"action.add" | translate}}
          </button>
          <div class="clearfix"></div>
        </div> <!-- End- Add button -->
        <!-- Add form -->
        <form role="form" data-ng-show="isCreateShowing">
          <button class="close" ng-click="hideCreateBrand()">
            <span aria-hidden="true">x</span>
            <span class="sr-only">Close</span>
          </button>
          <div class="clearfix"></div>
          <div class="form-group">
            <label for="name">{{"name" | translate}}:</label>
            <input id="name" type="text" class="form-control" placeholder="{{'name' | translate}}">
          </div>
          <div class="form-group">
            <label for="url">{{"forms.url" | translate}}:</label>
            <input id="url" type="url" class="form-control" placeholder="{{'forms.url' | translate}}">
          </div>
          <button type="submit" class="action-button shadow animate">Submit</button>
          <div class="clearfix"></div>
        </form><!-- End- Add form -->
        <!-- No brands message -->
        <div class="text-center" data-ng-show="!brands.length">
          {{"error.no.brands" | translate}}
        </div> <!-- End- No brands message -->
        <!-- Brands table showed only if data exists -->
        <div class="table-responsive" data-ng-show="brands.length">
          <table class="table" >
            <tbody>
              <tr>
                <th>{{"id" | translate}}</th>
                <th></th>
                <th>{{"name" | translate}}</th>
                <th>{{"views.brands.products-count" | translate}}</th>
                <th></th>
              </tr>
              <tr dir-paginate="brand in brands | itemsPerPage: brandsPerPage" total-items="totalBrands" current-page="currentPage">
                <td>{{brand.id}}</td>
                <td><img ng-src="{{brand.url}}" width="70px" height="70px"/></td>
                <td>{{brand.name}}</td>
                <td>{{brand.numProducts}}</td>
                <td>
                  <button class="action-button shadow animate pull-right" ng-disabled="brand.disabled" ng-click="removeBrand(brand, $index)">
                    {{"action.remove" | translate}}
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- End- Brands table -->
      </rd-widget-body>
      <rd-widget-footer>
        <dir-pagination-controls on-page-change="pageChanged(newPageNumber)" class="pull-right"></dir-pagination-controls>
        <div class="clearfix"></div>
      </rd-widget-footer>
    </rd-widget>
  </div>
  <!-- End- Maing view -->
  <!-- Loading view -->
  <div class="col-lg-12" data-ng-show="isLoading">
    <rd-widget>
      <rd-widget-header icon="fa-tasks" title="{{'views.index.brands' | translate}}"></rd-widget-header>
      <rd-widget-body>
        <rd-loading></rd-loading>
      </rd-widget-body>
    </rd-widget>
  </div>
</div>
<!-- End- Loading view -->
